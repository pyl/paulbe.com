<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="../css/project2.css"/>
</head>
<body>
<canvas id = "canvas"></canvas>
<script>

var canvas = document.getElementById("canvas");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

var c = canvas.getContext("2d");

var mouse = {
  x: undefined,
  y: undefined
}
var rect = canvas.getBoundingClientRect();
var trueX = mouse.x - rect.left;
var trueY = mouse.y - rect.top;
//changeables-------------
canvas.style.left = "0";
canvas.style.top = "0";
canvas.style.position = "absolute";
var canX = window.innerWidth;
var canY = window.innerHeight;
//------------------------
canvas.width = canX;
canvas.height = canY;
window.addEventListener("mousemove", function(event) {
  mouse.x = event.x;
  mouse.y = event.y;
  trueX = mouse.x - rect.left;
  trueY = mouse.y - rect.top;
})

var circle2Array = []
var colorArray = [
  "#C84127",
  "#67C5C2",
  "#3D2117",
  "#FEFCE8",
  "#000000",
  "",
]
function Circle(x,y,radius,dy,dx,exploded,exploded2) {
this.x = x
this.y = y
this.radius = radius
this.dy = dy
this.dx = dx
this.exploded = exploded
this.exploded2 = exploded2
this.draw = function() {
  c.beginPath();
  c.arc(this.x,this.y,this.radius,0,Math.PI*2);
  c.stroke();
  c.fillStyle = this.color;
  c.fill();
}
this.update = function() {
  this.x+=this.dx;
  this.y+=this.dy;
  this.dy = this.dy + 1;
  if (this.y > canY-this.radius) {
    this.y = canY-this.radius;
    this.dy = -this.dy*0.9;
  }
  if (this.x > canX-this.radius) {
    this.x = canX-this.radius;
    this.dx = -this.dx*0.9;
  }
  if(trueX - this.x < this.radius && trueX - this.x > -this.radius
    && trueY - this.y < this.radius && trueY - this.y > -this.radius) {
    this.exploded = 1;
  }
  if(this.exploded === 1 && this.radius > 0) {
    this.radius -= 1;

  }
  if (this.radius == 0&& this.exploded2 == 0) {

    for (var i = 0; i < 30; i++) {
      var rand = Math.random()-0.5;
      var rand2 = Math.random()-0.5;
      circle2Array.push(
        new Circle2(this.x,this.y,Math.random()*5+2,rand*15,rand2*15)
      )
    }
    this.exploded2 = 1;
  }

}
}

function Circle2(x,y,radius,dx,dy) {
  this.x = x
  this.y = y
  this.radius = radius
  this.dy = dy
  this.dx = dx
  this.color = colorArray[Math.floor(Math.random()*colorArray.length)];
  this.draw = function() {
    c.beginPath();
    c.arc(this.x,this.y,this.radius,0,Math.PI*2);
    c.stroke();
    c.fillStyle = this.color;
    c.fill();
    c.fillStyle = "#000000";
  }
  this.update = function() {
    this.x+=this.dx;
    this.y+=this.dy;
    // this.dy = this.dy + 1;
  }
}

var circleArray = []
window.addEventListener("mousedown", function() {


circleArray.push(
  new Circle(30,30,30,5,5,0,0))



})

function animate() {
  requestAnimationFrame(animate);
  c.clearRect(0,0,innerWidth,innerHeight);

  for (var i = 0; i <circleArray.length; i++) {
    circleArray[i].draw();
    circleArray[i].update();
  }
  for (var i = 0; i <circle2Array.length; i++) {
    circle2Array[i].draw();
    circle2Array[i].update();
  }
  c.font = "130px Arial";
  c.textAlign = "center";
  c.fillText("Fireworks",canX/2,canY/2);

}
animate();







</script>

<a href="https://paulbe.com/projects">Back</a>

</body>
</html>
